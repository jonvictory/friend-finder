<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Go Friend Yourself!</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h3><strong>WHO THE FRIEND ARE YOU?</strong></h3>
            </div>
            <div class="card-body">
              <form method="POST" role="form">
                <div class="form-group">
                  <label for="name">Name</label>
                  <input type="text" class="form-field" id="name" />
                </div>

                <div class="form-group">
                  <label for="link">Link to Photo</label>
                  <input type="text" class="form-field" id="link" />
                </div>
              </form>
              <br />
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
			<h2>Survey Questions</h2>
      		<div class="row">
            <div class="col-md-12">
            
      			<h4>Question 1</h4>
      			<h5>It's your birthday. In your progression towards old age, milestones such as this tend to make you contemplate the fragility of life, and the relatively small gap that exists between the light of dawn and the dark of night. Your best friend gives you a small, neatly-wrapped package. As you carefully tear the paper and expose the contents, you are left holding a small, brown wallet made from the skin of a young calf. How do you respond to your friend?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q1">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strongly object)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strongly accept)</option>
					    </select>
            </div>
            </div>
      		</div>
      		<div class="row">
            <div class="col-md-12">
      			<h4>Question 2</h4>
      			<h5>Your're at a friends house and meeting their family for the first time. Her little boy proudly shows you his butterfly collection. Then, with an equal amount of beaming pride, he shows you the killing jar he used to make it. How do you react?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q2">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strongly disavow)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strongly Affirm)</option>
					    </select>
            </div>
            </div>
				  </div>
				  <div class="row">
            <div class="col-md-12">
      			<h4>Question 3</h4>
      			<h5>You're at home after a long day at work. You're watching your favorite television program. Suddenly, your attention is stolen by an itching sensation at your wrist. Upon further investigation, you find a wasp crawling across your sweater-clad appendage, toward the soft, exposed skin of your right hand. What is your first impulse?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q3">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strong aggression)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strong empathy)</option>
					    </select>
            </div>
            </div>
				  </div>
				  <div class="row">
            <div class="col-md-12">
      			<h4>Question 4</h4>
      			<h5>You're enjoying a relaxing day at home with your partner. While looking at a magazine, you notice that they take a particular interest in a set of photographs featuring one particular model. On a later date, you visit your partners home and discover that your partner had liked the photo series so much that they decided to have the pictures frammed. Then, they had the pictures strategically hung up around their home to maximize veiwing potential. How does this make you feel?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q4">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strongly rejected)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strongly appreciated)</option>
					    </select>
            </div>
            </div>
				  </div>
				  <div class="row">
            <div class="col-md-12">
      			<h4>Question 5</h4>
      			<h5>You're at home watching an old movie on your day off. In the film, there is a large banquette taking place. The characters start off with an appetizer of oysters, and the meal progresses until they end up consuming an entree that consists primarily of boiled dog. To you, the dish of oysters is less acceptable than the boiled dog. What does this make you feel inside?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q5">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strong revulsion)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strong attraction)</option>
					    </select>
            </div>
            </div>
				  </div>
				  <div class="row">
            <div class="col-md-12">
      			<h4>Question 6</h4>
      			<h5>Generally, you consider yourself an organized person. Today, you're having a party. The guest list includes a group of your close friends, with whom you're intimately familiar, but also a segment of professional acquaintances with whom you're realtionship has remained mostly superficial. The first guest is set to arrive in minutes, and despite your usual dillagence towards organization, your home is in an  amount of disarray that you feel to be a misrepresentation of your character. How will you greet your first guest?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q6">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strong reservation)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Warm openess)</option>
					    </select>
            </div>
            </div>
				  </div>
				  <div class="row">
            <div class="col-md-12">
      			<h4>Question 7</h4>
      			<h5>Speaking broadly, you often describe yourself as a person that enjoys helping other people. On this particular night, you find yourself out with a group of your peers, socially drinking, and everyone seems to be having a lovely time. In a whimsical move of merry making, you offer to buy a round of drinks for the entire cohort, at another bar located down the street. As you set out upon your way, a man that appears to be homeless approaches you. It is apparent that this man has been taking drugs, and he casually asks you for money while blowing cigarette smoke into your face. Your first urges are that off?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q7">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strong offense)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strong compassion)</option>
					    </select>
            </div>
            </div>
				  </div>
				  <div class="row">
            <div class="col-md-12">
      			<h4>Question 8</h4>
      			<h5>When you're feeling sad, you just want to be left alone. A distant relative that was estranged from most of your family, but remained close to you throughout your life, has recently passed away after a long struggle with a terminal disease. In your time of mourning, Much of the legal responsibilities and death-rituals have been shifted onto you, despite your distance from the departed's immediate family. Addtionally, other family members have begun to seek solace in your familiarity with the deceased, often lementing their foregone opportunity to make their own personal connections. How do you respond to them?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q8">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strong calous)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strong embrace)</option>
					    </select>
            </div>
            </div>
				  </div>
				  <div class="row">
            <div class="col-md-12">
      			<h4>Question 9</h4>
      			<h5>People rarely make you angry. You've been tasked with training a new employee at your work. Despite the fact that this person was hired as your peer, you were not included in the hiring process. It quckly becomes apparent that this new employee lacks even an elementary understanding of the occupation for which they were hired. When you express your frustrations to your manager, your manager responds by emphasizing their own abilities to recognize great potential in employees, while implying that you lack the ability to interact socially with other coworkers. Your first response is one of?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q9">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strong defense)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strong inquisition)</option>
					    </select>
            </div>
            </div>
				  </div>
				  <div class="row">
      			<h4>Question 10</h4>
      			<h5>You generally stay relaxed under pressure. So when you were asked to speak at an anual conference that is managed by an elite group of your intellectual peers, the prospect of public speaking didn't bother you. You were not even concerned with the fact that some of the most advanced minds in your field would be attending. In the weeks leading up to the event, you practiced often. The morning of, you awoke early and left your home with more than enough time to make your time slot. However, despite your best efforts, a terrible accident has produced a traffic delay so long that begin to slowly realize that you will miss your engagement and the remainder of the days social events as well. As your presentation time approaches, your phone begins to ring with calls and vibrate with messages. How do you explain your situation?</h5>
      		  <div class="input-field col s12">
					    <select class="form-chosen" id="q10">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="1">1 (Strong indignation)</option>
					      <option value="2">2</option>
					      <option value="3">3</option>
					      <option value="4">4</option>
					      <option value="5">5 (Strong gratitude)</option>
					    </select>
            </div>
            </div>
				  </div>
			    <div class="text-right">
            <button
              type="submit"
              class="btn btn-primary btn-md"
              id="add-btn"
            >
              <span class="fa fa-fire"></span>Are you even friend, bruh?
            </button>
          </div>
    		</form>
  		</div>
    

    <script type="text/javascript">
      // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
      // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
      // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
      // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

      $("#add-btn").on("click", function(event) {
        event.preventDefault();

        function formValidation() {

                var validation = true;

                $(".form-field").each(function () {
                    if ($(this).val() === "") {
                        validation = false;
                    }
                });

                $(".form-chosen").each(function () {
                    if ($(this).val() === "") {
                        validation = false;
                    }
                });
                return validation;
            }
            // If all required fields are filled
            if (formValidation()) {

        // Here we grab the form elements
        var freshMeat = {

          name: $("#name")
            .val()
            .trim(),
          photoLink: $("#link")
            .val()
            .trim(),
          scores:  [
          $("#q1")
           .val().
            trim(),
          $("#q2")
            .val()
            .trim(),
          $("#q3")
            .val()
            .trim(),
          $("#q4")
            .val()
            .trim(),
          $("#q5")
            .val()
            .trim(),
          $("#q6")
            .val()
            .trim(),
         $("#q7")
            .val()
            .trim(),
          $("#q8")
            .val()
            .trim(),
          $("#q9")
            .val()
            .trim(),
          $("#q10")
            .val()
            .trim()
        ]
        };
        
        $.post("/api/friends", freshMeat, function(data) {
          // Clear the form when submitting
          $("#name").val("");
          $("#link").val("");
          $("#q1").val(""),
          $("#q2").val(""),
          $("#q3").val(""),
          $("#q4").val(""),
          $("#q5").val(""),
          $("#q6").val(""),
          $("#q7").val(""),
          $("#q8").val(""),
          $("#q9").val(""),
          $("#q10").val("")
        });
      }

      else {
                alert("Please fill out all fields before submitting!");
            }

      

        console.log(freshMeat);

        // This line is the magic. It"s very similar to the standard ajax function we used.
        // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
        // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
        // depending on if a tables is available or not.

        
      });

    </script>
  </body>
</html>
